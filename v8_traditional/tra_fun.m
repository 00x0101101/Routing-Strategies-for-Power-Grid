function [ F ] = tra_fun( x )
N = 0;
% r(1,:)=[zeros(1,1),0.01938,N,N,0.05403,N,N,N,N,N,N,N,N,N];
% r(2,:)=[zeros(1,2),0.04699,0.05811,0.05695,N,N,N,N,N,N,N,N,N];
% r(3,:)=[zeros(1,3),0.06701,N,N,N,N,N,N,N,N,N,N];
% r(4,:)=[zeros(1,4),0.01335,N,10e-6,N,10e-6,N,N,N,N,N];
% r(5,:)=[zeros(1,5),10e-6,N,N,N,N,N,N,N,N];
% r(6,:)=[zeros(1,6),N,N,N,N,0.09498,0.12291,0.06615,N];
% r(7,:)=[zeros(1,7),10e-6,10e-6,N,N,N,N,N];
% r(8,:)=[zeros(1,8),N,N,N,N,N,N];
% r(9,:)=[zeros(1,9),0.03181,N,N,N,0.12711];
% r(10,:)=[zeros(1,10),0.08205,N,N,N];
% r(11,:)=[zeros(1,11),N,N,N];
% r(12,:)=[zeros(1,12),0.22092,N];
% r(13,:)=[zeros(1,13),0.17093];
% r(14,:)=[zeros(1,14)];
r(1,:)=[zeros(1,1),0.5,N,N,0.5,N,N,N,N,N,N,N,N,N];
r(2,:)=[zeros(1,2),1.5,1.6,0.7,N,N,N,N,N,N,N,N,N];
r(3,:)=[zeros(1,3),0.5,N,N,N,N,N,N,N,N,N,N];
r(4,:)=[zeros(1,4),1.05,N,0.4,N,0.75,N,N,N,N,N];
r(5,:)=[zeros(1,5),0.9,N,N,N,N,N,N,N,N];
r(6,:)=[zeros(1,6),N,N,N,N,0.5,0.75,1,N];
r(7,:)=[zeros(1,7),0.6,0.5,N,N,N,N,N];
r(8,:)=[zeros(1,8),N,N,N,N,N,N];
r(9,:)=[zeros(1,9),0.6,N,N,N,0.75];
r(10,:)=[zeros(1,10),0.7,N,N,N];
r(11,:)=[zeros(1,11),N,N,N];
r(12,:)=[zeros(1,12),0.6,N];
r(13,:)=[zeros(1,13),0.9];
r(14,:)=[zeros(1,14)];
R=r+r';

% load_expect = [0	2.070721847	4.141443694	1.035360924	2.070721847	3.106082771	1.553041385	5.176804618	4.659124156	0.621216554	1.035360924	1.035360924	1.035360924	2.174257939];
% load_expect = [0 2 4 1 2 3 1 5 4 1 1 1 1 2]';
% load_expect = [2 3 4 5 6 7 6 5 4 3 2 1 6 4]';
load_expect = [0.8 1 2.3 3.2 2 1 0.7 0.4 2.3 1.5 2.1 1.6 2.8 0.9]';
source_expect = [0.951752577319588,1.29352577319588,2.49814432989691,3,0,1.54655670103093,0,0.540041237113402,0,1.80239175257732,0,0,3,0]';
% source_expect = [2.47752577319588,1.50745253995681,3.67443395923677,4,0,5.00000000000002,0,2,0,3,0,0,3.00000000000002,0]';
% source_expect = [2.89175257731959,1.09470346991748,3.37936966245832,3,0,5.00000000000001,0,2.36286232730036,0,3,0,0,3.00000000000002,0]';
% source_expect = [2.95584508361702,1.03092783505155,3.42296069878255,3,0,5.00000000000000,0,2.32080981186134,0,3,0,0,3.00000000000002,0]';
% source_expect = [8.06782388810905,5.13521960725455,10.0000000000000,5.99999999999997,0,9.99999999999999,0,10,0,6.00000000000004,0,0,6,0]';
% source_expect = [2.20666115114565,2.13476479072165,4.26952958144330,3.35324756865930,0,4.30400958592791,0,5.33691197731959,0,4.98745069501512,0,0,4.49202068367636,0]';
% source_expect = zeros(1,14);
% source_expect = [2.13110281557579,2.06185567010309,4.12371134020619,3.11655200464651,0,4.15696530959062,0,5.15463917525773,0,4.27754518869299,0,0,4.23086910645982,0];
U_rated = 1.5;

% F1 = source_expect(1) - load_expect(1) - U_rated*(x(15)+x(16));%节点1标准电压，非平衡节点
% F1 = x(1) - load_expect(1) - U_rated*(x(15)+x(16)); %节点1标准电压，平衡节点
F1 = source_expect(1) - load_expect(1) - x(1)*(x(15)+x(16));%节点1非标准电压，非平衡节点
F2 = source_expect(2) - load_expect(2) + x(2)*(x(15)-x(17)-x(18)-x(19));
F3 = source_expect(3) - load_expect(3) + x(3)*(x(17)-x(20));
F4 = source_expect(4) - load_expect(4) + x(4)*(x(18)+x(20)-x(21)-x(22)-x(23));
F5 = source_expect(5) - load_expect(5) + x(5)*(x(16)+x(19)+x(21)-x(24));
% F6 = x(1) - load_expect(6) + x(6)*(x(24)-x(25)-x(26)-x(27)); %节点6非标准电压，平衡节点1
% F6 = source_expect(6) - load_expect(6) + x(6)*(x(24)-x(25)-x(26)-x(27));%节点6非标准电压，非平衡节点
F6 = x(14) - load_expect(6) + x(6)*(x(24)-x(25)-x(26)-x(27));%节点14为标准电压，节点6为平衡节点
F7 = source_expect(7) - load_expect(7) + x(7)*(x(22)-x(28)-x(29));
F8 = source_expect(8) - load_expect(8) + x(8)*x(28);
F9 = source_expect(9) - load_expect(9) + x(9)*(x(23)+x(29)-x(30)-x(31));
F10 = source_expect(10) - load_expect(10) + x(10)*(x(30)-x(32));
F11 = source_expect(11) - load_expect(11) + x(11)*(x(25)+x(32));
F12 = source_expect(12) - load_expect(12) + x(12)*(x(26)-x(33));
F13 = source_expect(13) - load_expect(13) + x(13)*(x(27)+x(33)-x(34));%节点13非标准电压，非平衡节点
% F13 = x(1)- load_expect(13) + x(13)*(x(27)+x(33)-x(34));%节点13非标准电压，平衡节点
% F14 = source_expect(14) - load_expect(14) + x(14)*(x(31)+x(34));
F14 = source_expect(14) - load_expect(14) + U_rated*(x(31)+x(34));

% F15 = U_rated - x(2) - x(15)*R(1,2);
% F16 = U_rated - x(5) - x(16)*R(1,5);
F15 = x(1) - x(2) - x(15)*R(1,2);
F16 = x(1) - x(5) - x(16)*R(1,5);
F17 = x(2) - x(3) - x(17)*R(2,3);
F18 = x(2) - x(4) - x(18)*R(2,4);
F19 = x(2) - x(5) - x(19)*R(2,5);
F20 = x(3) - x(4) - x(20)*R(3,4);
F21 = x(4) - x(5) - x(21)*R(4,5);
F22 = x(4) - x(7) - x(22)*R(4,7);
F23 = x(4) - x(9) - x(23)*R(4,9);
F24 = x(5) - x(6) - x(24)*R(5,6);
F25 = x(6) - x(11) - x(25)*R(6,11);
F26 = x(6) - x(12) - x(26)*R(6,12);
F27 = x(6) - x(13) - x(27)*R(6,13);
F28 = x(7) - x(8) - x(28)*R(7,8);
F29 = x(7) - x(9) - x(29)*R(7,9);
F30 = x(9) - x(10) - x(30)*R(9,10);
% F31 = x(9) - x(14) - x(31)*R(9,14);
F31 = x(9) - U_rated - x(31)*R(9,14);
F32 = x(10) - x(11) - x(32)*R(10,11);
F33 = x(12) - x(13) - x(33)*R(12,13);
% F34 = x(13) - x(14) - x(34)*R(13,14);
F34 = x(13) - U_rated - x(34)*R(13,14);

F = [F1;F2;F3;F4;F5;F6;F7;F8;F9;F10;F11;F12;F13;F14;...
    F15;F16;F17;F18;F19;F20;F21;F22;F23;F24;F25;F26;F27;F28;F29;F30;F31;F32;F33;F34];

end

